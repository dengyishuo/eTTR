% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/add_BBands.R
\name{add_BBands}
\alias{add_BBands}
\title{Calculate Bollinger Bands}
\usage{
add_BBands(OHLCV, n = 20, maType, sd = 2, append = FALSE, ...)
}
\arguments{
\item{OHLCV}{Object coercible to xts/matrix containing Open - High - Low - Close - Volume prices.}

\item{n}{Number of periods for moving average (default 20).}

\item{maType}{Function or string naming moving average type.}

\item{sd}{Number of standard deviations (default 2).}

\item{append}{A logical value. If \code{TRUE}, the calculated result columns
("dn", "mavg", "up", "pctB") will be appended to the \code{OHLCV} input data, ensuring
proper alignment of time - series data. If \code{FALSE}, only the calculated
result data will be returned. Defaults to \code{FALSE}.}

\item{...}{Additional arguments passed to \code{maType}.}
}
\value{
If \code{append = FALSE}, an object matching \code{OHLCV} class with columns:
\itemize{
\item \code{dn}: Lower band
\item \code{mavg}: Moving average
\item \code{up}: Upper band
\item \code{pctB}: \%B value
If \code{append = TRUE}, an object of the same class as \code{OHLCV} with the
calculated columns appended, maintaining the integrity of the time - series
alignment.
}
}
\description{
Calculates Bollinger Bands, a volatility indicator comparing price levels over time.
}
\details{
Calculates three bands:
\itemize{
\item Middle: SMA of typical price \eqn{(high + low + close)/3}
\item Upper: \code{sd} standard deviations above MA
\item Lower: \code{sd} standard deviations below MA
Uses univariate series directly if provided.
}
}
\note{
Non - SMA averages cause inconsistencies since SD calculations assume SMA.
}
\examples{
\dontrun{
data(TSLA)
# Using default parameters without appending
bbands_result1 <- add_BBands(TSLA)

# Modifying n and without appending
bbands_result2 <- add_BBands(TSLA, n = 30)

# Using default parameters and appending
bbands_result3 <- add_BBands(TSLA, append = TRUE)

# Modifying n and appending
bbands_result4 <- add_BBands(TSLA, n = 30, append = TRUE)
}
}
\references{
\itemize{
\item \url{https://www.fmlabs.com/reference/Bollinger.htm}
\item \url{https://school.stockcharts.com/doku.php?id=technical_indicators:bollinger_bands}
}
}
\seealso{
Moving average functions: \code{\link[=SMA]{SMA()}}, \code{\link[=EMA]{EMA()}}
}
\keyword{ts}

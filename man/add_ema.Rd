% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/add_ema.R
\name{add_ema}
\alias{add_ema}
\title{Calculate and add Exponential Moving Averages (EMA) to stock data}
\usage{
add_ema(mktdata, periods = c(50, 200), append = TRUE)
}
\arguments{
\item{mktdata}{xts object containing OHLCV data downloaded via quantmod}

\item{periods}{numeric vector with 2-4 positive integers representing
EMA periods}

\item{append}{logical. If TRUE, add EMA columns to mktdata;
otherwise, return only EMA columns. Default is TRUE.}
}
\value{
If \code{append} is \code{TRUE}, a tibble object with added EMA columns.
If \code{FALSE}, a tibble object with only EMA columns.
}
\description{
This function accepts stock data downloaded via quantmod
and a variable-length vector of periods (up to 4). It can either add
the EMA columns to the original data or return the EMA columns separately.
}
\details{
The function first validates the input data format and the required columns.
It then checks if the TTR package is available and installs/loads it if not.
After that, it calculates the Exponential Moving Averages for each specified period.
The resulting EMA values are then combined into a tibble.
Finally, depending on the \code{append} parameter, the EMA tibble is either
appended to the original data or returned as a standalone tibble.
}
\note{
Input data must contain closing prices (Close), periods must be
positive integers
}
\examples{
library(quantmod)
library(tibble)
library(TTR)
library(dplyr)
# Download stock data (example using AAPL)
getSymbols("AAPL")
data(TSLA)
# Calculate and add EMA columns to AAPL data
tsla_with_ema <- add_ema(TSLA, periods = c(10, 20), append = TRUE)
head(tsla_with_ema)
# Return only EMA columns for AAPL
tsla_only_ema <- add_ema(TSLA, periods = c(10, 20), append = FALSE)
head(aapl_only_ema)
}
\keyword{EMA,}
\keyword{TTR}
\keyword{analysis,}
\keyword{data,}
\keyword{quantmod,}
\keyword{stock}
\keyword{technical}
